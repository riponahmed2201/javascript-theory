# JavaScript Code Execution & Global Execution Context - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж╛ржВрж▓рж╛ржпрж╝

---

## ЁЯза рзз. JavaScript Execution ржХрзА?

JavaScript ржХрзЛржб **ржПржХржЯрж╛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ process** рж╣рзЯрзЗ execute рж╣рзЯред
ржПржЗ process ржХрзЗ ржмрж▓рзЗ ЁЯСЙ **Execution Context**ред
ржорж╛ржирзЗ, ржпржЦржиржЗ JS ржХрзЛржирзЛ ржХрзЛржб ржЪрж╛рж▓рж╛рзЯ, рждржЦржи рж╕рзЗ ржПржХржЯрж╛ environment рждрзИрж░рж┐ ржХрж░рзЗ ржпрзЗржЦрж╛ржирзЗ рж╕рзЗржЗ ржХрзЛржбржЯрж╛ ржЪрж▓ржмрзЗ тАФ
**variable ржХрзЛржерж╛рзЯ ржерж╛ржХржмрзЗ, function ржХрзЛржерж╛рзЯ ржерж╛ржХржмрзЗ, scope ржХрзА рж╣ржмрзЗ**, рж╕ржмржХрж┐ржЫрзБ ржПржЦрж╛ржирзЗржЗ define рж╣рзЯред

---

## ЁЯМН рзи. Execution Context ржПрж░ ржзрж░ржи (Types)

JavaScript ржП ржорзВрж▓ржд рждрж┐ржи ржзрж░ржгрзЗрж░ Execution Context ржЖржЫрзЗ тд╡я╕П

1. **Global Execution Context (GEC)**
2. **Function Execution Context (FEC)**
3. **Eval Execution Context (rarely used)**

---

## ЁЯМР рзй. Global Execution Context (GEC) тАФ рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг

ржпржЦржи рждрзБржорж┐ ржХрзЛржирзЛ JavaScript ржлрж╛ржЗрж▓ ржЪрж╛рж▓рж╛ржУ (ржпрзЗржоржи `index.js`),
рждржЦржи **рж╕ржмржЪрзЗрзЯрзЗ ржкрзНрж░ржержорзЗ рждрзИрж░рж┐ рж╣рзЯ Global Execution Context**ред

- ЁЯФ╣ ржПржЯрж╛ рж╣рж▓рзЛ ржкрзБрж░рзЛ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗрж░ **root context** ржмрж╛ base environmentред
- ЁЯФ╣ рж╢рзБржзрзБ ржПржХржмрж╛рж░ржЗ рждрзИрж░рж┐ рж╣рзЯ (program ржкрзНрж░рждрж┐)ред

---

### тЬ│я╕П GEC рждрзИрж░рж┐ рж╣ржУрзЯрж╛рж░ ржзрж╛ржк (in 2 phases)

Global Execution Context рждрзИрж░рж┐ рж╣рзЯ **ржжрзБржЗржЯрж╛ ржзрж╛ржкрзЗ** тАФ

#### ЁЯзй Phase 1: Creation Phase (Memory Creation Phase)

ржПржЗ ржзрж╛ржкрзЗ JavaScript **memory allocate ржХрж░рзЗ ржХрж┐ржирзНрждрзБ execute ржХрж░рзЗ ржирж╛ред**

ЁЯСЙ ржПржЗ рж╕ржорзЯ ржпрж╛ рж╣рзЯ:

1. ржПржЗ ржкрж░рзНржпрж╛ржпрж╝рзЗ JavaScript рж╕ржорзНржкрзВрж░рзНржг code scan ржХрж░рзЗ
2. ржПржХржЯрж╛ **global object** рждрзИрж░рж┐ рж╣рзЯ (browser ржП тЖТ `window`, Node.js ржП тЖТ `global`)
3. ржПржХржЯрж╛ **this** keyword рждрзИрж░рж┐ рж╣рзЯ (global context ржП тЖТ `this === window`)
4. рж╕ржм **variable ржПржмржВ function declaration** memory рждрзЗ ржЬрж╛рзЯржЧрж╛ ржкрж╛рзЯред

   - variable = `undefined` ржжрж┐рзЯрзЗ initialize рж╣рзЯ
   - function = рж╕ржорзНржкрзВрж░рзНржг function definition memory рждрзЗ store рж╣рзЯ

ЁЯза ржЙржжрж╛рж╣рж░ржг:

```js
var name = "Ripon";
function sayHi() {
  console.log("Hi!");
}
```

Creation Phase ржП:

```
Memory:
name: undefined
sayHi: function() { console.log("Hi!"); }
this: window
```

---

#### тЪЩя╕П Phase 2: Execution Phase

ржПржЦржи ржХрзЛржб рж▓рж╛ржЗржи ржмрж╛ржЗ рж▓рж╛ржЗржи execute рж╣рзЯред

ЁЯСЙ ржПржЗ рж╕ржорзЯ ржпрж╛ рж╣рзЯ:

- ржПржЗ ржкрж░рзНржпрж╛ржпрж╝рзЗ code line by line execute рж╣ржпрж╝
- Variables ржПрж░ actual values assign рж╣ржпрж╝
- Functions call рж╣рж▓рзЗ ржирждрзБржи execution context рждрзИрж░рж┐ рж╣ржпрж╝

Execution Phase ржП:

```
name: "Ripon"
sayHi() -> "Hi!" console ржП ржкрзНрж░рж┐ржирзНржЯ ржХрж░ржмрзЗ
```

---

### GEC ржПрж░ ржжрзБржЗржЯрж┐ ржЕржВрж╢:

#### рзз. Memory Component (Variable Environment)

- рж╕ржм variables ржПржмржВ functions store рж╣ржпрж╝
- Key-value pair ржП ржерж╛ржХрзЗ

#### рзи. Code Component (Thread of Execution)

- Code line by line execute рж╣ржпрж╝
- ржПржХ рж╕ржоржпрж╝рзЗ ржПржХржЯрж╛ line execute рж╣ржпрж╝

## Example ржжрж┐ржпрж╝рзЗ ржмрзБржЭрж┐:

```javascript
var a = 10;
var b = 20;

function add(x, y) {
  var result = x + y;
  return result;
}

var sum = add(a, b);
console.log(sum);
```

### Creation Phase ржП ржХрж┐ рж╣ржпрж╝:

**Memory Component:**

```
a: undefined
b: undefined
add: function code (ржкрзБрж░рзЛ function)
sum: undefined
```

### Execution Phase ржП ржХрж┐ рж╣ржпрж╝:

**Step 1:**

```
a: 10  // value assign рж╣рж▓рзЛ
b: undefined
add: function code
sum: undefined
```

**Step 2:**

```
a: 10
b: 20  // value assign рж╣рж▓рзЛ
add: function code
sum: undefined
```

**Step 3:** ржпржЦржи `add(a, b)` call рж╣ржпрж╝

- ржирждрзБржи ржПржХржЯрж┐ **Function Execution Context** рждрзИрж░рж┐ рж╣ржпрж╝
- ржПржЯрж╛рж░ржУ ржжрзБржЗржЯрж╛ phase ржЖржЫрзЗ (Creation + Execution)
- Function рж╢рзЗрж╖ рж╣рж▓рзЗ ржПржЗ context destroy рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝

**Function Execution Context ржПрж░ ржнрж┐рждрж░рзЗ:**

Creation Phase:

```
x: undefined
y: undefined
result: undefined
```

Execution Phase:

```
x: 10
y: 20
result: 30
```

**Step 4:**

```
a: 10
b: 20
add: function code
sum: 30  // function ржерзЗржХрзЗ return value assign рж╣рж▓рзЛ
```

## Call Stack

**Call Stack** рж╣рж▓рзЛ execution contexts track рж░рж╛ржЦрж╛рж░ mechanismред

### ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

1. ржкрзНрж░ржержорзЗ **Global Execution Context** push рж╣ржпрж╝ stack ржП
2. ржпржЦржи function call рж╣ржпрж╝, ржирждрзБржи context stack ржП push рж╣ржпрж╝
3. Function complete рж╣рж▓рзЗ context pop рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝
4. рж╢рзЗрж╖рзЗ Global Execution Context ржУ pop рж╣ржпрж╝

### ржЙржкрж░рзЗрж░ example ржПрж░ Call Stack:

```
Step 1: [Global Execution Context]
Step 2: [Global EC, add() EC]  // function call ржП
Step 3: [Global EC]  // function рж╢рзЗрж╖рзЗ
Step 4: []  // рж╕ржм рж╢рзЗрж╖рзЗ empty
```

## Interview ржПрж░ ржЬржирзНржп ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкржпрж╝рзЗржирзНржЯ:

### рзз. JavaScript ржХрж┐ Single Threaded?

**рж╣рзНржпрж╛ржБ**, JavaScript single threaded ржПржмржВ synchronousред ржорж╛ржирзЗ ржПржХ рж╕ржоржпрж╝рзЗ ржПржХржЯрж╛ ржХрж╛ржЬ ржХрж░рзЗред

### рзи. Hoisting ржХрж┐?

Creation phase ржП variables ржПржмржВ functions memory рждрзЗ ржпрж╛ржУржпрж╝рж╛ржХрзЗ **hoisting** ржмрж▓рзЗред

```javascript
console.log(a); // undefined (error ржирж╛!)
var a = 10;

greet(); // "Hello" (ржХрж╛ржЬ ржХрж░ржмрзЗ!)
function greet() {
  console.log("Hello");
}
```

### рзй. Global Object ржХрж┐?

Browser ржП **window** object рж╣рж▓рзЛ global objectред Global variables ржПржмржВ functions ржПрж░ рж╕рж╛ржерзЗ attach ржерж╛ржХрзЗред

```javascript
var name = "John";
console.log(window.name); // "John"
```

---

## тЪб рзк. Function Execution Context (FEC)

ржпржЦржи ржХрзЛржирзЛ function call рж╣рзЯ, рждржЦржи ржирждрзБржи ржПржХржЯрж╛ **Function Execution Context** рждрзИрж░рж┐ рж╣рзЯред
ржПржЯрж╛ржУ рзи ржзрж╛ржкрзЗ ржХрж╛ржЬ ржХрж░рзЗ (creation + execution)ред
ржкрзНрж░рждрж┐ржЯрж╛ function call ржорж╛ржирзЗ ржирждрзБржи contextред

ЁЯФ╕ Example:

```js
function add(a, b) {
  return a + b;
}

var result = add(5, 10);
```

ржПржЦрж╛ржирзЗ ржпржЦржи `add(5, 10)` call рж╣ржмрзЗ, рждржЦржи:

- ржирждрзБржи FEC рждрзИрж░рж┐ рж╣ржмрзЗ
- ржнрж┐рждрж░рзЗ `a=5`, `b=10` assign рж╣ржмрзЗ
- рж╢рзЗрж╖рзЗ result return ржХрж░ржмрзЗ

ЁЯУМ ржкрзНрж░рждрж┐ржЯрж┐ FEC execution рж╢рзЗрж╖ рж╣рж▓рзЗ destroy рж╣рзЯрзЗ ржпрж╛рзЯред

---

## ЁЯкг рзл. Execution Stack (Call Stack)

JavaScript ржПржХржЯрж┐ **single-threaded language**, ржорж╛ржирзЗ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ржЗ ржХрж╛ржЬ ржХрж░рзЗред

ржПржЯрж╛рж░ ржЬржирзНржп ржПржХржЯрж╛ **Call Stack** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред
ржПржЗ Stack ржПрж░ ржорж╛ржзрзНржпржорзЗ JS track ржХрж░рзЗ ржХрзЛржи context ржПржЦржи execute рж╣ржЪрзНржЫрзЗред

ЁЯз▒ Stack ржПрж░ ржХрж╛ржЬ:

1. Global Context ржкрзНрж░ржержорзЗ stack ржП ржврзЛржХрзЗ
2. Function call рж╣рж▓рзЗ ржирждрзБржи context stack ржП ржврзЛржХрзЗ
3. Function рж╢рзЗрж╖ рж╣рж▓рзЗ context stack ржерзЗржХрзЗ ржмрзЗрж░ рж╣рзЯрзЗ ржпрж╛рзЯ
4. рж╕ржм рж╢рзЗрж╖ рж╣рж▓рзЗ stack ржЦрж╛рж▓рж┐ рж╣рзЯрзЗ ржпрж╛рзЯ

ржЙржжрж╛рж╣рж░ржг:

```js
function one() {
  two();
  console.log("One");
}
function two() {
  console.log("Two");
}
one();
```

Execution Stack:

```
Start:
-> GEC рждрзИрж░рж┐ рж╣рзЯ
-> one() call тЖТ FEC(one) push рж╣рзЯ
-> two() call тЖТ FEC(two) push рж╣рзЯ
-> two() рж╢рзЗрж╖ тЖТ pop рж╣рзЯ
-> one() рж╢рзЗрж╖ тЖТ pop рж╣рзЯ
-> GEC рж╢рзЗрж╖ тЖТ pop рж╣рзЯ
```

Output:

```
Two
One
```

---

## ЁЯУЬ рзм. Important Interview Points Summary

| Concept                              | Explanation                                       |
| ------------------------------------ | ------------------------------------------------- |
| **Execution Context**                | JS code ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп environment                  |
| **Global Execution Context (GEC)**   | ржкрзНрж░ржержо рждрзИрж░рж┐ рж╣рзЯ, ржПржХржЯрж╛ржЗ ржерж╛ржХрзЗ                         |
| **Function Execution Context (FEC)** | ржкрзНрж░рждрж┐ржмрж╛рж░ function call рж╣рж▓рзЗ рждрзИрж░рж┐ рж╣рзЯ                |
| **Creation Phase**                   | Variable ржУ Function memory рждрзЗ store рж╣рзЯ            |
| **Execution Phase**                  | ржХрзЛржб line by line execute рж╣рзЯ                       |
| **Call Stack**                       | Context ржЧрзБрж▓рзЛ manage ржХрж░рзЗ FIFO (LIFO) ржкржжрзНржзрждрж┐рждрзЗ      |
| **this keyword**                     | Global ржП `window` (browser) ржмрж╛ `global` (Node.js) |

---

## ЁЯТм ржЗржирзНржЯрж╛рж░ржнрж┐ржЙрждрзЗ ржЙрждрзНрждрж░ ржжрзЗржУрзЯрж╛рж░ ржЯрж┐ржкрж╕

**Question:** тАЬExplain JavaScript Code Execution & Global Execution Context.тАЭ

ЁЯСЙ Answer (in short but smart way):

> тАЬWhen JavaScript runs any code, it first creates a Global Execution Context which has two phases тАФ the creation phase and the execution phase. In the creation phase, variables are initialized with `undefined` and function declarations are stored in memory. In the execution phase, the code runs line by line. Each function call creates its own execution context, managed by the call stack. JavaScript is single-threaded, so only one context executes at a time.тАЭ

---

**ржкрзНрж░рж╢рзНржи: JavaScript ржП code ржХрж┐ржнрж╛ржмрзЗ execute рж╣ржпрж╝?**

**ржЙрждрзНрждрж░:**

> тАЬJavaScript code ржжрзБржЗржЯрж╛ phase ржП execute рж╣ржпрж╝ред ржкрзНрж░ржержорзЗ **Creation Phase** ржпрзЗржЦрж╛ржирзЗ variables ржПржмржВ functions ржПрж░ ржЬржирзНржп memory allocate рж╣ржпрж╝ - variables ржХрзЗ undefined value ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ ржПржмржВ functions ржПрж░ ржкрзБрж░рзЛ code memory рждрзЗ store рж╣ржпрж╝ред ржПрж░ржкрж░ **Execution Phase** ржП code line by line execute рж╣ржпрж╝ ржПржмржВ variables ржПрж░ actual values assign рж╣ржпрж╝ред"

> тАЬрж╕ржмрж╛рж░ ржкрзНрж░ржержорзЗ **Global Execution Context** рждрзИрж░рж┐ рж╣ржпрж╝ ржпрж╛рж░ ржжрзБржЗржЯрж╛ component ржЖржЫрзЗ - Memory Component ржПржмржВ Code Componentред ржкрзНрж░рждрж┐ржЯрж╛ function call ржП ржирждрзБржи Function Execution Context рждрзИрж░рж┐ рж╣ржпрж╝ ржпрж╛ **Call Stack** ржП manage рж╣ржпрж╝ред JavaScript single threaded рж╣ржУржпрж╝рж╛ржпрж╝ ржПржХ рж╕ржоржпрж╝рзЗ ржПржХржЯрж╛ execution context active ржерж╛ржХрзЗред"
