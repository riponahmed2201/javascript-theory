ржжрж╛рж░рзБржг ЁЯФе
ржПржЦржи ржЖржорж░рж╛ ржжрзЗржЦржмрзЛ тАФ
ЁЯСЙ **Execution Context**,
ЁЯСЙ **Scope Chain**,
ЁЯСЙ ржПржмржВ ржПржЧрзБрж▓рзЛрж░ рж╕рж╛ржерзЗ **Closure ржПрж░ рж╕ржорзНржкрж░рзНржХ** тАФ рж╕ржм ржПржХрж╕рж╛ржерзЗ (ржмрж╛ржВрж▓рж╛рзЯ + diagram ржмрзНржпрж╛ржЦрзНржпрж╛ рж╕рж╣)ред

---

# ЁЯза JavaScript Execution Context, Scope Chain & Closure Relationship

---

## ЁЯзй рззя╕П. Execution Context ржХрзА?

JavaScript ржХрзЛржб ржпржЦржи рж░рж╛ржи рж╣рзЯ, рждржЦржи ржкрзНрж░рждрж┐ржмрж╛рж░ ржХрзЛржирзЛ function call рж╣рж▓рзЗ **ржПржХржЯрж╛ ржирждрзБржи Execution Context (EC)** рждрзИрж░рж┐ рж╣рзЯред
ржПржЗ Execution Context рж╣ржЪрзНржЫрзЗ ржПржХржЯрж╛ **box** ржпрзЗржЦрж╛ржирзЗ ржУржЗ function ржПрж░:

- Variable
- Function declaration
- Arguments
  рж╕ржм рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗред

### ЁЯФ╣ ржжрзБржЯрж┐ ржзрж╛ржк ржерж╛ржХрзЗ:

1. **Creation Phase**

   - Variable ржЧрзБрж▓рзЛ initialize рж╣рзЯ (value = `undefined`)
   - Function declarations memory рждрзЗ store рж╣рзЯред

2. **Execution Phase**

   - Variable ржЧрзБрж▓рзЛрж░ ржЖрж╕рж▓ ржорж╛ржи assign рж╣рзЯред
   - ржХрзЛржб execute рж╣рзЯ line by lineред

---

## ЁЯзй рзия╕П. Scope ржХрзА?

**Scope** ржорж╛ржирзЗ рж╣рж▓рзЛ ржХрзЛржи variable ржХрзЛржерж╛рзЯ ржерзЗржХрзЗ access ржХрж░рж╛ ржпрж╛ржмрзЗред

| Scope Type         | ржмрж░рзНржгржирж╛                                                        |
| ------------------ | ------------------------------------------------------------- |
| **Global Scope**   | ржкрзБрж░рзЛ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗ access ржХрж░рж╛ ржпрж╛рзЯ                                |
| **Function Scope** | рж╢рзБржзрзБржорж╛рждрзНрж░ function ржПрж░ ржнрж┐рждрж░рзЗ access ржХрж░рж╛ ржпрж╛рзЯ                    |
| **Block Scope**    | `{}` ржмрзНрж▓ржХрзЗрж░ ржнрж┐рждрж░рзЗ access ржХрж░рж╛ ржпрж╛рзЯ (`let`, `const` ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ) |

---

## ЁЯзй рзйя╕П. Scope Chain ржХрзА?

ржпржЦржи ржХрзЛржирзЛ function ржПрж░ ржнрж┐рждрж░рзЗ ржХрзЛржирзЛ variable ржЦрзЛржБржЬрж╛ рж╣рзЯ,

- ржкрзНрж░ржержорзЗ local scope ржП ржЦрзЛржБржЬрзЗ, ржирж╛ ржкрзЗрж▓рзЗ
- parent scope ржП ржпрж╛рзЯ, ржирж╛ ржкрзЗрж▓рзЗ
- рждрж╛рж░ parent ржПрж░ scope ржП ржпрж╛рзЯ,
- рж╕ржмрж╢рзЗрж╖рзЗ global scope ржП ржЦрзЛржБржЬрзЗред

ржПржЗ lookup ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржЯрж╛ржЗ рж╣ржЪрзНржЫрзЗ **Scope Chain**ред

---

### тЪЩя╕П ржЙржжрж╛рж╣рж░ржг:

```js
let a = 10;

function outer() {
  let b = 20;

  function inner() {
    let c = 30;
    console.log(a + b + c);
  }

  inner();
}

outer(); // 60
```

### ЁЯза ржмрзНржпрж╛ржЦрзНржпрж╛:

- `inner()` тЖТ local scope ржП `c` ржЖржЫрзЗ
- ржирж╛ ржкрзЗрж▓рзЗ тЖТ parent (`outer`) scope ржП ржпрж╛рзЯ (`b`)
- ржирж╛ ржкрзЗрж▓рзЗ тЖТ global scope ржП ржпрж╛рзЯ (`a`)
  ржПржнрж╛ржмрзЗ variable resolve рж╣рзЯ тАФ ржПржЗ ржЪрзЗржЗржиржЗ **Scope Chain**ред

---

## ЁЯзй рзкя╕П. Execution Context Stack (Call Stack)

JavaScript single-threaded, рждрж╛ржЗ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ржЗ ржХрж╛ржЬ ржХрж░рзЗред
ржпржЦржиржЗ ржХрзЛржирзЛ function call рж╣рзЯ, рж╕рзЗржЯрж╛рж░ ржЬржирзНржп ржирждрзБржи **Execution Context** рждрзИрж░рж┐ рж╣рзЯрзЗ **Call Stack** ржП push рж╣рзЯред

### ржЙржжрж╛рж╣рж░ржг:

```js
function first() {
  second();
  console.log("First done");
}

function second() {
  console.log("Second done");
}

first();
```

### ЁЯУК Stack flow:

1. Global EC рждрзИрж░рж┐ рж╣рзЯ
2. `first()` ржХрж▓ рж╣рзЯ тЖТ ржирждрзБржи EC push рж╣рзЯ
3. `second()` ржХрж▓ рж╣рзЯ тЖТ ржирждрзБржи EC push рж╣рзЯ
4. `second()` рж╢рзЗрж╖ тЖТ pop
5. `first()` рж╢рзЗрж╖ тЖТ pop
6. Global context рж╢рзЗрж╖ тЖТ pop

---

## ЁЯзй рзля╕П. Closure ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ

Closure рж╣ржЪрзНржЫрзЗ тАФ

> ржпржЦржи ржХрзЛржирзЛ inner function рждрж╛рж░ outer function ржПрж░ variable ржХрзЗ **scope chain ржПрж░ ржорж╛ржзрзНржпржорзЗ ржзрж░рзЗ рж░рж╛ржЦрзЗ**, ржПржоржиржХрж┐ outer function рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗрж▓рзЗржУред

ЁЯСЙ Execution Context destroy рж╣рзЯрзЗ ржЧрзЗрж▓рзЗржУ,
ЁЯСЙ Closure рж╕рзЗржЗ variable ржЧрзБрж▓рзЛрж░ reference **memory рждрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ рж░рж╛ржЦрзЗред**

---

### тЪЩя╕П ржЙржжрж╛рж╣рж░ржг:

```js
function makeCounter() {
  let count = 0;

  return function () {
    count++;
    console.log(count);
  };
}

const counter = makeCounter();
counter(); // 1
counter(); // 2
```

### ЁЯФН ржмрзНржпрж╛ржЦрзНржпрж╛:

- `makeCounter()` рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗрж▓рзЗржУ,
- inner function (closure) ржПржЦржирзЛ `count` variable access ржХрж░рждрзЗ ржкрж╛рж░рзЗред
- ржХрж╛рж░ржг тАФ Scope Chain ржПрж░ ржорж╛ржзрзНржпржорзЗ outer scope ржПрж░ reference рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗред

---

## ЁЯза Diagram (Simplified)

```
Global Scope: { makeCounter }

makeCounter Execution Context:
  count = 0
  inner() {
    count++;
  }

Closure Memory (after makeCounter ends):
  { count: 0, inner: function() {...} }
```

ЁЯСЙ `counter()` ржпрждржмрж╛рж░ ржХрж▓ рж╣рзЯ, closure memory рждрзЗ ржерж╛ржХрж╛ `count` update рж╣рзЯред

---

## ЁЯТм Interview Notes

| ржкрзНрж░рж╢рзНржи                      | рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржЙрждрзНрждрж░                                                                   |
| --------------------------- | --------------------------------------------------------------------------------- |
| Execution Context ржХрзА?       | Function рж░рж╛ржи рж╣рж▓рзЗ рждрж╛рж░ ржЬржирзНржп рждрзИрж░рж┐ рж╣рзЯ ржПржоржи ржкрж░рж┐ржмрзЗрж╢ (variables, functions, scope chain)ред |
| Scope Chain ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ? | Local тЖТ Parent тЖТ Global ржкрж░рзНржпржирзНржд variable lookup рж╣рзЯред                               |
| Closure ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ ржХрзА? | Closure scope chain ржзрж░рзЗ outer variables ржоржирзЗ рж░рж╛ржЦрзЗред                                 |
| Memory leak рж╣рждрзЗ ржкрж╛рж░рзЗ?       | рж╣рзНржпрж╛ржБ, closure reference release ржирж╛ ржХрж░рж▓рзЗред                                         |
| React ржП ржХрзЛржерж╛рзЯ ржмрзНржпржмрж╣рзГржд рж╣рзЯ?   | Hooks (useState, useEffect) closure ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗред                            |

---

## ЁЯОп Summary

- Execution Context = function ржПрж░ runtime environment
- Scope Chain = variable lookup system
- Closure = scope chain ржзрж░рзЗ outer variable тАЬaliveтАЭ рж░рж╛ржЦрж╛ behavior

---
